<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions">
	
	<style type="text/css">
		
		.heightFrmProveedor {
				height: 500px;
		}
		
	</style>
	
	<p:dialog header="Proveedor" widgetVar="dlgProveedor" modal="true" responsive="true" width="90%" closeOnEscape="true" styleClass="modalResponsivo">
		
		<h:form id="frmProveedor">
			
			<!-- OPCIONES -->
			
			<div class="p-grid toolBarPopUp" >
				
				<div class="p-col-12 p-md-6" style="text-align:left;">					
					
					
					<p:commandButton id="cmdGuardar"
						value="GUARDAR" icon="fa fa-check" 
						action="#{proveedorCtrl.guardar()}" styleClass="MRight10" update="@form #{proveedorCtrl.viewUpdate}"
						/>
						
					<p:commandButton id="cmdCerrar"
						value="CERRAR" icon="fa fa-close" styleClass="secondary-button" 
						onclick="PF('dlgProveedor').hide()" immediate="true"  
						/>
					
				</div>
				
			</div>
			
			<p:messages rendered="#{not facesContext.validationFailed}" showSummary="true" showDetail="true" for="frmProveedor"
				closable="true" >
				<p:autoUpdate></p:autoUpdate>
			</p:messages>
			
			<!--  wraper del formulario para responsive -->
			
			<div class="form-ui Wid100 OvYScroll heightFrmProveedor contenedorFormulario">

				<!-- Datos Generales -->	
				<div class="Wid100 titulo"><i class="fa fa-check-circle Fs16"></i> Datos Generales</div>
				<p:panelGrid id="gridProveedorDG" columns="3"
						styleClass="ui-panelgrid-blank Wid100"
						columnClasses="ui-g-12 ui-md-4,
									   ui-g-12 ui-md-6,
									   ui-g-12 ui-md-2">
									   
						<h:outputText value="ID" />
						<h:outputText value="#{proveedorCtrl.proveedorSelected.idproveedor}" />
						<h:outputText value="" />
						
						<h:outputText value="RAZON SOCIAL * : " styleClass="cpoRequerido"/>
						<p:inputText id="intProveedorRazonSocial"
							value="#{proveedorCtrl.proveedorSelected.razonsocial}"
							required="true" requiredMessage="REQUERIDO" styleClass="Wid100"
							maxlength="200" converter="omnifaces.ToUpperCaseConverter" />
						<p:message for="intProveedorRazonSocial"/>
						
						<h:outputText value="NOMBRE COMERCIAL * : " styleClass="cpoRequerido"/>
						<p:inputText id="intProveedorNombreComercial"
							value="#{proveedorCtrl.proveedorSelected.nombrecomercial}"
							required="true" requiredMessage="REQUERIDO" styleClass="Wid100"
							maxlength="200" converter="omnifaces.ToUpperCaseConverter" />
						<p:message for="intProveedorNombreComercial"/>
						
						<h:outputText value="TIPO #{msg['label.identificacion']} * : " styleClass="cpoRequerido"/>
						<h:panelGroup>
							<p:selectOneMenu id="somProveedorTipoIden"
								value="#{proveedorCtrl.proveedorSelected.tipoidentificacion}"
								converter="omnifaces.SelectItemsConverter"
								required="true"
								requiredMessage="REQUERIDO"
								styleClass="Wid100">
								
								<f:selectItem itemLabel="[seleccionar] ..."
										itemValue="#{null}" value="#{null}" noSelectionOption="true" />
										
								<f:selectItems value="#{proveedorCtrl.tipoIdentificacionList}" var="tip"
									itemLabel="#{tip.tipoidentificacion}" itemValue="#{tip}" />
								<p:ajax event="change" update=":frmProveedor:intProveedorIentifiaccion " process="@this :frmProveedor:intProveedorIentifiaccion"/>
							</p:selectOneMenu>
						</h:panelGroup>
						<p:message for="somProveedorTipoIden" />
						
						<h:outputText value="#{msg['label.identificacion']} * : " styleClass="cpoRequerido"/>
						<p:inputText id="intProveedorIentifiaccion"
							value="#{proveedorCtrl.proveedorSelected.identificacion}"
							required="true" requiredMessage="REQUERIDO" styleClass="Wid100"
							maxlength="20" converter="omnifaces.ToUpperCaseConverter" validatorMessage="SOLO NUMEROS; 10 DIGITOS PARA CI, 13 DIGITOS PARA RUC">
							<f:validateRegex pattern="^\d{10}+$" disabled="#{proveedorCtrl.proveedorSelected.tipoidentificacion==null or proveedorCtrl.proveedorSelected.tipoidentificacion.codigo=='04'}"/>
							<f:validateRegex pattern="^\d{13}+$" disabled="#{proveedorCtrl.proveedorSelected.tipoidentificacion==null or proveedorCtrl.proveedorSelected.tipoidentificacion.codigo=='05'}"/>
						</p:inputText>
						<p:message for="intProveedorIentifiaccion"/>
						
						<h:outputText value="#{msg['label.telefono']}  : " styleClass="cpoRequerido"/>
						<p:inputText id="intProveedorTelefono"
							value="#{proveedorCtrl.proveedorSelected.telefono}"
							required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
							maxlength="50" validatorMessage="SOLO NUMEROS">
							<f:validateRegex pattern="^\d+$"/>
						</p:inputText>
						<p:message for="intProveedorTelefono"/>
						
						<h:outputText value="EMAIL : " styleClass="cpoRequerido"/>
						<p:inputText id="intProveedorEmail"
							value="#{proveedorCtrl.proveedorSelected.email}"
							required="true" requiredMessage="REQUERIDO" styleClass="Wid100"
							maxlength="50"  validatorMessage="EMAIL INVALIDO" >
							<f:validator validatorId="emailValidator"/>
						</p:inputText>
						<p:message for="intProveedorEmail"/>
						
						<h:outputText value="ESTADO * :" />
						<p:selectOneMenu id="somestadoProveedor" value="#{proveedorCtrl.proveedorSelected.estado}" style="width:100%" disabled="#{proveedorCtrl.proveedorSelected.idproveedor==null}">
			    			<f:selectItem itemLabel="#{EstadoRegistroEnum.ACTIVO}" itemValue="A" />
			    			<f:selectItem itemLabel="#{EstadoRegistroEnum.INACTIVO}" itemValue="I" />
			    			<f:selectItem itemLabel="#{EstadoRegistroEnum.TODOS}" itemValue="T" />
			    		</p:selectOneMenu>
			    		<p:message for="somestadoProveedor"/>
						
				</p:panelGrid>
				
				<!-- Datos Contacto -->	
				<div class="Wid100 titulo"><i class="fa fa-check-circle Fs16"></i> Contacto</div>
				<div class="EmptyBox10"/>
				<p:panelGrid id="gridProveedorCT" columns="3"
						styleClass="ui-panelgrid-blank Wid100"
						columnClasses="ui-g-12 ui-md-4,
									   ui-g-12 ui-md-6,
									   ui-g-12 ui-md-2">
					
					<h:outputText value="NOMBRE : " />
					<p:inputText id="intProveedorContacto"
						value="#{proveedorCtrl.proveedorSelected.contactonombre}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="200" converter="omnifaces.ToUpperCaseConverter" />
					<p:message for="intProveedorContacto"/>
					
					<h:outputText value="#{msg['label.telefono']} : " />
					<p:inputText id="intProveedorContactoTel"
						value="#{proveedorCtrl.proveedorSelected.contactotelefono}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="60" validatorMessage="SOLO NUMEROS">
							<f:validateRegex pattern="^\d+$"/>
					</p:inputText>
					<p:message for="intProveedorContactoTel"/>
					
					<h:outputText value="EMAIL : " />
					<p:inputText id="intProveedorContactoEmail"
						value="#{proveedorCtrl.proveedorSelected.contactoemail}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="60" validatorMessage="EMAIL INVALIDO">
						<f:validator validatorId="emailValidator"/>
					</p:inputText>
					<p:message for="intProveedorContactoEmail"/>
					
				</p:panelGrid>
				
				<!-- Direccion -->	
				<div class="Wid100 titulo"><i class="fa fa-check-circle Fs16"></i> #{msg['label.direccionminuscula']}</div>
				<div class="EmptyBox10"/>
				<p:panelGrid id="gridProveedorDR" columns="3"
						styleClass="ui-panelgrid-blank Wid100"
						columnClasses="ui-g-12 ui-md-4,
									   ui-g-12 ui-md-6,
									   ui-g-12 ui-md-2">
					
					<h:outputText value="PROVINCIA : " />
					<p:inputText id="intProveedorProvincia"
						value="#{proveedorCtrl.proveedorSelected.provincia}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="100" converter="omnifaces.ToUpperCaseConverter" />
					<p:message for="intProveedorProvincia"/>
					
					<h:outputText value="CIUADAD : " />
					<p:inputText id="intProveedorCiudad"
						value="#{proveedorCtrl.proveedorSelected.ciudad}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="100" converter="omnifaces.ToUpperCaseConverter" />
					<p:message for="intProveedorCiudad"/>
					
					<h:outputText value="#{msg['label.direccion']} : " />
					<p:inputText id="intProveedorCalles"
						value="#{proveedorCtrl.proveedorSelected.direccion}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="200" converter="omnifaces.ToUpperCaseConverter" />
					<p:message for="intProveedorCalles"/>
					
					<h:outputText value="#{msg['label.codigo']} POSTAL : " />
					<p:inputText id="intProveedorZip"
						value="#{proveedorCtrl.proveedorSelected.codigopostal}"
						required="false" requiredMessage="REQUERIDO" styleClass="Wid100"
						maxlength="40" converter="omnifaces.ToUpperCaseConverter" />
					<p:message for="intProveedorZip"/>
					
					
				</p:panelGrid>
				
			</div>
			
		</h:form>
	
	</p:dialog>

</ui:composition>
