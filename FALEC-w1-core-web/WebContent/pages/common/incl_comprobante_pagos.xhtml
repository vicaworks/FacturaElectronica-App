<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions">
	
	<style type="text/css">
		
		.pvResumenPagoDT .ui-datatable-scrollable-body{
			min-height: 25vh !important;
		}
		
	</style>
	
	<p:dialog header="Resumen de pagos" widgetVar="dlgResumenPagos" modal="true" responsive="true" width="90%" closeOnEscape="true" styleClass="modalResponsivo">
		
		<h:form id="frmResPagos">
			
			<!-- OPCIONES -->
			
			<div class="p-grid toolBarPopUp" >
				
				<div class="p-col-12 p-md-6" style="text-align:left;">					
					
					<p:commandButton id="cmdCerrar"
						value="CERRAR" icon="fa fa-close" styleClass="secondary-button" 
						onclick="PF('dlgResumenPagos').hide()" immediate="true"  
						/>
					
				</div>
				
			</div>
			
			<!--  wraper del formulario para responsive -->
			
			<div class="form-ui Wid100 OvYScroll heightFrmUsuario contenedorFormulario">
			
				<p:dataTable id="pvResumenPagoDT"
	        			scrollable="true"
	        			value="#{pagoCtrl.pagoList}"
	        			var="p"
	        			emptyMessage="#{msg['mensaje.noexistenDatos']}"
						styleClass="pvResumenPagoDT Fs12"  
						rowKey="#{p.idpago}">
				
					<p:column headerText="ITEM" style="width:100%;">
						
						<div class="EmptyBox5"/>
						<div class="p-grid p-align-center vertical-container ui-inputfield-pago">
							
							<div class="p-col-12">
								<h:outputText value="#{p.tipopago.nombre}" styleClass="FontBold DispBlock Wid100 Hei100 Fs14 markGray"/>
							</div>
							
							<div class="p-col-12">
							
								<div class="p-grid Fs10">
									
									<div class="p-col-12 p-md-4 dt-spinner">
									
										<h:outputText value="VALOR" styleClass="Fs12"/>
										
										<p:spinner id="ipsPagValor" value="#{p.total}" min="0" decimalPlaces="2" prefix="$" onkeydown="if(event.keyCode==13){return false;}" styleClass="Wid100" readonly="true">
										</p:spinner>
										
									</div>
									
									
									<div class="p-col-12 p-md-4 dt-spinner">
										<!-- Efectivo -->								
										<h:outputText value="IMPORTE" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '1'}"/>
										<p:spinner id="ipsPagValorEntrega" value="#{p.valorentrega}" min="0" decimalPlaces="2" prefix="$" onkeydown="if(event.keyCode==13){return false;}" styleClass="Wid100" rendered="#{p.tipopago.subdetalle == '1'}" readonly="true">
										</p:spinner>
										
										<!-- cheque, t credito, t debito, transferencia, deposito, credito -->
										<h:outputText value="# DOCUMENTO" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '2' or p.tipopago.subdetalle == '3'}"/>
										<p:inputText id="inpPagoNumDoc" value="#{p.numerodocumento}" required="false" styleClass="Wid100" maxlength="150" rendered="#{p.tipopago.subdetalle == '2' or p.tipopago.subdetalle == '3'}" readonly="true">
										</p:inputText>
										
										<!-- credito -->
										<h:outputText value="PLAZO" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '4'}"/>
										<p:spinner id="ipsPagPlazo" value="#{p.plazo}" min="0" decimalPlaces="0" onkeydown="if(event.keyCode==13){return false;}" styleClass="Wid100" rendered="#{p.tipopago.subdetalle == '4'}" readonly="true">
										</p:spinner>
										
									</div>
									
									<div class="p-col-12 p-md-4 dt-spinner">
										<!-- Efectivo -->
										<h:outputText value="CAMBIO" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '1'}"/>
										<p:spinner id="ipsPagValorCambio" value="#{p.cambio}" min="0" decimalPlaces="2" prefix="$" onkeydown="if(event.keyCode==13){return false;}" styleClass="Wid100" rendered="#{p.tipopago.subdetalle == '1'}" readonly="true">
										</p:spinner>
										
										<!-- cheque, t credito, t debito, transferencia, deposito, credito -->
										<h:outputText value="BANCO" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '2' or p.tipopago.subdetalle == '3'}"/>
										<p:inputText id="inpPagoBanco" value="#{p.nombrebanco}" required="false" styleClass="Wid100" maxlength="100" rendered="#{p.tipopago.subdetalle == '2' or p.tipopago.subdetalle == '3'}" readonly="true">
										</p:inputText>
										
										<!-- credito -->
										<h:outputText value="FECHA PAGO" styleClass="Fs12" rendered="#{p.tipopago.subdetalle == '4'}"/>
										<p:calendar id="claAdqFechaCompra" value="#{p.fechapago}"
											pattern="dd/MM/yyyy"
											locale="es"
											requiredMessage="REQUERIDO" required="false" styleClass="Wid100" placeholder="Fecha tentativa de pago"
											rendered="#{p.tipopago.subdetalle == '4'}" readonly="true" showOn="false">
										</p:calendar>
										
									</div>
									
								</div>
							</div>
						</div>
					</p:column>
								
				</p:dataTable>
				
				<div class="EmptyBox10"/>
				<div class="p-grid p-justify-even">
					<div class="p-col-12 p-md-3 boxMain box-gray">
						<div class="DispBlock box-header">TOTAL POR PAGAR</div>
						<h:outputText value="#{pagoCtrl.valorPagar}" styleClass="box-content">
							<f:convertNumber pattern="$#,##0.00"/>
						</h:outputText>
					</div>
					
					<div class="p-col-12 p-md-3 boxMain box-border-gray">
						<div class="DispBlock box-header">TOTAL PAGO</div>
						<h:outputText value="#{pagoCtrl.totalPago}" styleClass="box-content">
							<f:convertNumber pattern="$#,##0.00"/>
						</h:outputText>
					</div>
				</div>	
				
				<div class="EmptyBox10"/>
			</div>
			
		</h:form>
		
   </p:dialog>  
    

</ui:composition>
