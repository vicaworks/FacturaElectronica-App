<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions">
	
	<style type="text/css">
		
		
		
		.p-field,
        	.p-field > label,
        	.p-field-checkbox, 
        	.p-field-radiobutton {
				margin-bottom: 0.15rem !important;
		}
		
		.p-field > small{margin-top: 0px !important;}
		
		@media screen and (max-height: 1024px){
			.heightFrmProductoDesc {
			}
		}
		
	</style>
	
	<p:dialog header="Producto" widgetVar="dlgProductoDes" modal="true" responsive="true" width="90%" closeOnEscape="true" styleClass="modalResponsivo" resizable="true">
		<h:form id="frmProductoDesc">
			
			<!-- OPCIONES -->
			
			<div class="p-grid toolBarPopUp">
				
				<div class="p-col-12 p-md-6" style="text-align:left;">	
						
					<p:commandButton 
						value="GUARDAR" icon="fa fa-floppy-o" 
						action="#{productoCtrl.guardar}" styleClass="MRight10" update="@form #{productoCtrl.viewUpdate}"
						/>
					
					<p:commandButton id="cmdListCliCerrar"
						value="CERRAR" icon="fa fa-close" styleClass="secondary-button" 
						onclick="PF('dlgProductoDes').hide()" immediate="true"  
						/>
					
				</div>	
				
			</div>
			
			<p:messages rendered="#{not facesContext.validationFailed}" showSummary="true" showDetail="true" for="frmProductoDesc" id="msgFrmProductoDesc"
				closable="true" >
				<p:autoUpdate></p:autoUpdate>
			</p:messages>
			
			<!--  wraper del formulario para responsive -->
			
			<div class="form-ui Wid100 OvYScroll heightFrmProductoDesc contenedorFormulario">
				
				<div class="p-grid nested-grid p-p-1" style="width: 99.5%!important;">
					
					<div class="p-col-12 p-md-6">
						
						<div class="ui-fluid">
						    <div class="p-field">
						        <label for="p-codigo">CÓDIGO</label>
						        <p:inputText id="p-codigo" value="#{productoCtrl.productoSelected.codigoprincipal}" required="false" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="25" readonly="true"/>
						    </div>
						    
						    <div class="p-field">
						        <label for="p-nombre">NOMBRE *</label>
						        <p:inputText id="p-nombre" value="#{productoCtrl.productoSelected.nombre}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="300" converter="omnifaces.ToUpperCaseConverter"/>
								<p:message for="p-nombre"/>
						    </div>
						    
						    <div class="p-field">
						        <label for="p-nombre-comercial">NOMBRE COMERCIAL *</label>
						        <p:inputText id="p-nombre-comercial" value="#{productoCtrl.productoSelected.nombregenerico}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="300" converter="omnifaces.ToUpperCaseConverter"/>
								<p:message for="p-nombre-comercial"/>
						    </div>
						    
						    <div class="p-field">
						        <label for="p-descripcion">#{msg['label.descripcion']}</label>
						        <p:inputTextarea id="p-descripcion" value="#{productoCtrl.productoSelected.observacion}" required="false" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="800" converter="omnifaces.ToUpperCaseConverter" rows="7"/>
								<p:message for="p-descripcion"/>
						    </div>
						    
						</div>
					
					</div>
					
					<div class="p-col-12 p-md-6">
						<div class="p-field">
					        <label class="p-mr-2">IMAGEN</label><small>(Resolución 50x50, 100x100, 150x150)</small>
					    </div>
						<div class="p-formgroup-inline">
					        <p:commandButton
									value="Limpiar" icon="fa fa-eraser" styleClass="secondary-button p-mr-1"
									action="#{productoCtrl.limpiarImagen()}" 
									immediate="true"  
									update="@form"
									disabled="#{productoCtrl.productoSelected.imagen==null}"/>
									
							<p:fileUpload 
									listener="#{productoCtrl.handleUpload}"
									allowTypes="/(\.|\/)(jpg|gif|jpe?g|png|tif)$/"
									invalidFileMessage="SOLO FORMATOS [png,jpg,svg,tif,gif]" 
									required="true"
									requiredMessage="REQUERIDO" 
									label="Seleccionar ..." 
									sizeLimit="25242880"
									invalidSizeMessage="#{msg['file.size']} 2MB" 
									mode="advanced" 
									dragDropSupport="true" 
									auto="true"
									update="@form"
									previewWidth="0">
							</p:fileUpload>
						</div>
					    <div class="p-field">
					    	<h:outputText value="#{productoCtrl.productoSelected.nombreimagen}" styleClass="p-d-block p-mb-1"/>
					    	<p:graphicImage value="#{productoCtrl.imageProducto}" stream="false" width="50%" height="50%" rendered="#{productoCtrl.productoSelected.imagen!=null}"/>
					    </div>
						
					</div>					
				
				</div>
				
				
			</div>
			
		</h:form>
		
		
		
	
	</p:dialog>

</ui:composition>
