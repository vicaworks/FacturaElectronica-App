<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions">
	
	<style type="text/css">
	</style>
	
	<div class="card card-w-title" >
		
		<div class="p-grid p-align-top ui-fluid p-mt-1">
			
			<div class="p-col-12 p-lg-2">
				<h:outputText value="ESTABLECIMIENTO" styleClass="DispBlock p-mb-1"/>
	    		<p:selectOneMenu 
							value="#{cotizacionRepCtrl.establecimientoMain}"
							converter="omnifaces.SelectItemsConverter"
							styleClass="Wid100"
							disabled="#{not cotizacionCtrl.habilitarEstablecimientoMain}">
							
					<f:selectItems value="#{cotizacionRepCtrl.establecimientoMainList}" var="st3"
						itemLabel="#{st3.nombrecomercial.concat(' - ').concat(appSessionCtrl.formatoCadena(st3.codigoestablecimiento,3,'0'))}" itemValue="#{st3}" />
						
				</p:selectOneMenu>
			</div>
			
			<div class="p-col-6 p-lg-2">
				<h:outputText value="DESDE" styleClass="DispBlock p-mb-1"/>
	    		<p:calendar id="calDesde3" value="#{cotizacionRepCtrl.desde}"
					pattern="dd/MM/yyyy"
					locale="es" 
					requiredMessage="REQUERIDO" required="true" styleClass="Wid100" placeholder="dd/MM/yyyy">
				</p:calendar>
				<p:message for="calDesde3"/>
			</div>
			
			<div class="p-col-6 p-lg-2">
				<h:outputText value="HASTA" styleClass="DispBlock p-mb-1"/>
	    		<p:calendar id="calHasta3" value="#{cotizacionRepCtrl.hasta}"
					pattern="dd/MM/yyyy"
					locale="es" 
					requiredMessage="REQUERIDO" required="true" styleClass="Wid100" placeholder="dd/MM/yyyy">
				</p:calendar>
				<p:message for="calHasta3"/>
			</div>			
			<div class="p-col-6 p-lg-2 p-as-end">
				<p:commandButton 
						icon="fa fa-search"
						action="#{cotizacionRepCtrl.buscar()}" styleClass="secondary-button Wid100" update="@form" style="margin-right:5px;" value="BUSCAR"/>
			</div>
			
		</div>
	
	</div>
	
	
	<div class="p-grid p-align-top">
		
		<div class="p-col-12 p-lg-6 p-mt-2">
			
			<div class="card card-w-title" >
				
				<h3 class="cardTitle"><i class="fa fa-arrow-circle-right"/> Cantidad de Cotizaciones</h3>
				
				<p:outputPanel rendered="#{cotizacionRepCtrl.getTotal(cotizacionRepCtrl.facturadoContadorList)>0}">
					<p:pieChart model="#{cotizacionRepCtrl.pieFacturadoContador}" />
				</p:outputPanel>
				
				<p:outputPanel rendered="#{cotizacionRepCtrl.getTotal(cotizacionRepCtrl.facturadoContadorList)==0}">
					<div class="p-grid p-ai-center p-jc-center" style="height:200px!important;">
						<div class="p-col-12" style="text-align: center;">
							<i class="fa fa-language" style="font-size: 80px;"/>
							
						</div>
					</div>				
				</p:outputPanel>
				
				
				<p:dataTable
		       			value="#{cotizacionRepCtrl.facturadoContadorList}"
		       			var="v"
		       			emptyMessage="#{msg['mensaje.noexistenDatos']}"
						styleClass="Fs11 p-mt-2 p-mb-2"
						rowKey="#{v.label1}">
					<p:column headerText="ESTADO" style="width:50%;">
						<div class="p-grid p-mt-1 p-ml-1">
							<div class="p-col-3">
								<h:outputText value="A" style="background-color: rgb(255, 205, 86);color:rgb(255, 205, 86);" styleClass="DispBlock" rendered="#{v.label1=='SEGUIMIENTO'}"/>
								<h:outputText value="A" style="background-color: rgb(255, 99, 132);color:rgb(255, 99, 132);" styleClass="DispBlock" rendered="#{v.label1=='ARCHIVADO'}"/>
								<h:outputText value="A" style="background-color: rgb(0, 153, 51);color:rgb(0, 153, 51);" styleClass="DispBlock" rendered="#{v.label1=='FACTURADO'}"/>
							</div>
							<div class="p-col-9">
								<h:outputText value="#{v.label1}"/>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="CANTIDAD" style="width:50%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v.valor1.intValue()}" style="color:#252529;"/>
							</div>
						</div>
					</p:column>
					
				</p:dataTable>
				
			</div>
			
					
		
		</div>
		
		<div class="p-col-12 p-lg-6 p-mt-2">
			<div class="card card-w-title" >
				
				<h3 class="cardTitle"><i class="fa fa-arrow-circle-right"/> Valor Total de Cotizaciones</h3>
				
				
				<p:outputPanel rendered="#{cotizacionRepCtrl.getTotal(cotizacionRepCtrl.facturadoValorList)>0}">
					<p:pieChart model="#{cotizacionRepCtrl.pieFacturadoValor}"/>
				</p:outputPanel>
				
				<p:outputPanel rendered="#{cotizacionRepCtrl.getTotal(cotizacionRepCtrl.facturadoValorList)==0}">
					<div class="p-grid p-ai-center p-jc-center" style="height:200px!important;">
						<div class="p-col-12" style="text-align: center;">
							<i class="fa fa-language" style="font-size: 80px;"/>
							
						</div>
					</div>				
				</p:outputPanel>
				
				
				
				
				<p:dataTable
		       			value="#{cotizacionRepCtrl.facturadoValorList}"
		       			var="p"
		       			emptyMessage="#{msg['mensaje.noexistenDatos']}"
						styleClass="Fs11 p-mt-2 p-mb-2"
						rowKey="#{p.label1}">
					<p:column headerText="ESTADO" style="width:50%;">
						<div class="p-grid p-mt-1 p-ml-1">
							<div class="p-col-3">
								<h:outputText value="A" style="background-color: rgb(255, 205, 86);color:rgb(255, 205, 86);" styleClass="DispBlock" rendered="#{p.label1=='SEGUIMIENTO'}"/>
								<h:outputText value="A" style="background-color: rgb(255, 99, 132);color:rgb(255, 99, 132);" styleClass="DispBlock" rendered="#{p.label1=='ARCHIVADO'}"/>
								<h:outputText value="A" style="background-color: rgb(0, 153, 51);color:rgb(0, 153, 51);" styleClass="DispBlock" rendered="#{p.label1=='FACTURADO'}"/>
							</div>
							<div class="p-col-9">
								<h:outputText value="#{p.label1}"/>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="VALOR" style="width:50%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{p.valor1.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="$ #,##0.00"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
				</p:dataTable>
				
			</div>
		</div>
		
		<div class="p-col-12">
			<div class="card card-w-title" >
			
				<h3 class="cardTitle"><i class="fa fa-arrow-circle-right"/> Cantidad de cotizaciones por vendedor</h3>
				
				<p:outputPanel rendered="#{not empty cotizacionRepCtrl.facturadoVendedorContadorList}">
					<p:chart type="bar" model="#{cotizacionRepCtrl.barFacturadoVendedorContador}"  responsive="true"/>
				</p:outputPanel>
				
				<p:outputPanel rendered="#{empty cotizacionRepCtrl.facturadoVendedorContadorList}">
					<div class="p-grid p-ai-center p-jc-center" style="height:200px!important;">
						<div class="p-col-12" style="text-align: center;">
							<i class="fa fa-language" style="font-size: 80px;"/>
							
						</div>
					</div>				
				</p:outputPanel>
				
				<p:dataTable
		       			value="#{cotizacionRepCtrl.facturadoVendedorContadorList}"
		       			var="v1"
		       			emptyMessage="#{msg['mensaje.noexistenDatos']}"
						styleClass="Fs11 p-mt-2 p-mb-2"
						rowKey="#{v1.label1}"
						rendered="#{not empty cotizacionRepCtrl.facturadoVendedorContadorList}">
					<p:column headerText="VENDEDOR" style="width:40%;">
						<h:outputText value="#{v1.label1}"/>
					</p:column>
					
					<p:column headerText="FACTURADO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v1.valor1.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="#,##0"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="ARCHIVADO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v1.valor2.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="#,##0"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="SEGUIMIENTO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v1.valor3.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="#,##0"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
				</p:dataTable>
				
			</div>
							
		</div>
		
		<div class="p-col-12">
			<div class="card card-w-title" >
			
				<h3 class="cardTitle"><i class="fa fa-arrow-circle-right"/> Valor total de cotizaciones por vendedor</h3>
				
				<p:outputPanel rendered="#{not empty cotizacionRepCtrl.facturadoVendedorValorList}">
					<p:chart type="bar" model="#{cotizacionRepCtrl.barFacturadoVendedorValor}" responsive="true"/>
				</p:outputPanel>
				
				<p:outputPanel rendered="#{empty cotizacionRepCtrl.facturadoVendedorValorList}">
					<div class="p-grid p-ai-center p-jc-center" style="height:200px!important;">
						<div class="p-col-12" style="text-align: center;">
							<i class="fa fa-language" style="font-size: 80px;"/>
							
						</div>
					</div>				
				</p:outputPanel>
				
				<p:dataTable
		       			value="#{cotizacionRepCtrl.facturadoVendedorValorList}"
		       			var="v2"
		       			emptyMessage="#{msg['mensaje.noexistenDatos']}"
						styleClass="Fs11 p-mt-2 p-mb-2"
						rowKey="#{v2.label1}"
						rendered="#{not empty cotizacionRepCtrl.facturadoVendedorValorList}">
					<p:column headerText="VENDEDOR" style="width:40%;">
						<h:outputText value="#{v2.label1}"/>
					</p:column>
					
					<p:column headerText="FACTURADO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v2.valor1.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="$ #,##0.00"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="ARCHIVADO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v2.valor2.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="$ #,##0.00"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
					<p:column headerText="SEGUIMIENTO" style="width:20%;" styleClass="TexAlCenter">
						<div class="p-grid p-mt-1">
							<div class="p-col-12">
								<h:outputText value="#{v2.valor3.intValue()}" style="color:#252529;">
									<f:convertNumber pattern="$ #,##0.00"/>
								</h:outputText>
							</div>
						</div>
					</p:column>
					
				</p:dataTable>
				
			</div>
							
		</div>
		
	</div>
	
	
	

</ui:composition>
