<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions"
				xmlns:pe="http://primefaces.org/ui/extensions">
	
	<style type="text/css">
		
		.panel-configuracion .ui-accordion .ui-accordion-header.ui-state-hover, body .ui-accordion .ui-accordion-header.ui-tabs-outline {
		  outline: 0 none;
		  /* border: 1px solid #d8d8dc;
		  background-color: #eaeaea; */
		  border: 1px solid #5D6D7E;
		  background-color: #fff;
		  color: #252529;
		}
		
		.panel-configuracion .ui-accordion .ui-accordion-header.ui-state-active {
			border: 1px solid #d8d8dc !important;
			background-color: #ffffff!important;
			color: #1B2631 !important;
		}
		
		.panel-configuracion .ui-accordion .ui-accordion-header.ui-state-active .ui-icon {
			color: #1B2631 !important;
		}

		.panel-configuracion .ui-accordion .ui-accordion-header {
			margin-top: 5px;
		}
		
		.f-upload .ui-fileupload {
			border: 1px solid #d8d8dc !important;
		}
		
	</style>
	
	<div class="EmptyBox10"/>
	
	<div class="p-grid p-justify-center panel-configuracion">
		
		<div class="p-col-12">
		
			 <p:accordionPanel id="TabConfEmpresa" widgetVar="basic" activeIndex="0" style="margin:0px 10px !important;">
		            <p:tab title="Certificado de firma electrónica" id="tabFirma">
		                <p class="p-m-0">
		                    Registrar el certificado de firma electrónica, Certificado formato P12
		                    <div class="EmptyBox10"/>
		                    <h:form id="frmCertificado">
		                    	
		                    	<div class="p-grid">
									
									<div class="p-col-7 f-upload">
										
										
						           		<p:fileUpload id="fulArchivoFirma"
						           					  label="Seleccionar Archivo..." 
						           					  mode="advanced" 
						           					  skinSimple="true" 
						           					  listener="#{confEmpresaCtrl.upload}" 
						           					  auto="true" 
						           					  sizeLimit="25242880"
													  invalidSizeMessage="#{msg['file.size']} 1MB" 
						           					  uploadLabel="Cargar" 
						           					  styleClass="Wid100"
						           					  allowTypes="/(\.|\/)(p12)$/"
													  invalidFileMessage="SOLO FORMATOS [.p12]"
													  required="true"
													  requiredMessage="REQUERIDO">
								  		</p:fileUpload>
									</div>
									
									<div class="p-col-12 p-md-7">
										<h:outputText value="ARCHIVO FIRMA ELECTRÓNICA * " styleClass="cpoRequerido"/>
										<div class="EmptyBox5"/>
										<p:inputText value="#{confEmpresaCtrl.empresaSelected.nombrearchivo}" required="true" requiredMessage="REQUERIDO" readonly="true" id="intNameFileFirmaDigital" styleClass="Wid100"/>
										<h:outputText  />
										<p:message for="intNameFileFirmaDigital" />											
									</div>
									
									<div class="p-col-12 p-md-7">
										<h:outputText value="FECHA DE EMISIÓN * " styleClass="cpoRequerido"/>
										<div class="EmptyBox5"/>
										<p:calendar id="calFechaEmision" value="#{confEmpresaCtrl.empresaSelected.fechaemision}"
											pattern="dd/MM/yyyy"
											locale="es" 
											requiredMessage="REQUERIDO" required="true" styleClass="Wid100" placeholder="dd/MM/yyyy">
										</p:calendar>
										<p:message for="calFechaEmision" />
									</div>
									
									<div class="p-col-12 p-md-7">
										<h:outputText value="FECHA DE EXPIRACIÓN * " styleClass="cpoRequerido"/>
										<div class="EmptyBox5"/>
										<p:calendar id="calFechaCaducidad" value="#{confEmpresaCtrl.empresaSelected.fechaexpiracion}"
											pattern="dd/MM/yyyy"
											locale="es" 
											requiredMessage="REQUERIDO" required="true" styleClass="Wid100" placeholder="dd/MM/yyyy">
										</p:calendar>
										<p:message for="calFechaCaducidad" />
									</div>
									
									<div class="p-col-12 p-md-7">
									
										<p:outputLabel value="CLAVE FIRMA ELECTRÓNICA *" styleClass="cpoRequerido"/>
										<div class="EmptyBox5"/>
					                    <p:inputText id="intclavefirma" value="#{confEmpresaCtrl.empresaSelected.clavefirmaelectronica}" styleClass="Wid100" required="true" requiredMessage="REQUERIDO">
					                    </p:inputText> 					                    
					                    <p:message for="intclavefirma" />
										
									</div>
									
									<div class="p-col-12">
										<div class="EmptyBox10"/>
										<p:commandButton id="cmdLimpiarFirma"
											value="Limpiar" icon="fa fa-eraser" styleClass="secondary-button" update="@form" process="@this" style="margin-right:15px;width:100px;">
											<f:setPropertyActionListener value="#{null}" target="#{confEmpresaCtrl.empresaSelected.nombrearchivo}"/>
											<f:setPropertyActionListener value="#{null}" target="#{confEmpresaCtrl.empresaSelected.archivofirmaelectronica}"/>
											<f:setPropertyActionListener value="#{null}" target="#{confEmpresaCtrl.empresaSelected.fechaemision}"/>
											<f:setPropertyActionListener value="#{null}" target="#{confEmpresaCtrl.empresaSelected.fechaexpiracion}"/>
											<f:setPropertyActionListener value="#{null}" target="#{confEmpresaCtrl.empresaSelected.clavefirmaelectronica}"/>
										</p:commandButton>				  		

										
										
										<p:commandButton 
												value="GUARDAR" icon="fa fa-floppy-o" 
												action="#{confEmpresaCtrl.guardarArchivoFirma}" styleClass="secondary-button" update="@form" process="" style="margin-right:15px;width:100px;"
											/>
									
									</div>
									
		                    	
		                    	</div>
		                    	
								<p:messages rendered="#{not facesContext.validationFailed}" showSummary="true" showDetail="true" for="frmCertificado"
									closable="true" >
									<p:autoUpdate></p:autoUpdate>
								</p:messages>			                    	
		                    	
		                    </h:form>
		                </p>
		            </p:tab>
		            
		            <p:tab title="Servidor de correo SMTP" >
		                <p class="p-m-0">
		                	<h:form id="frmSMTP">
			                    Configura tu propio servidor de correo electrónico SMTP, por el cual se enviará todos los correso del sistema.
			                    <div class="EmptyBox10"/>
			                    <p:selectBooleanButton onLabel="Sí" offLabel="No"
	                                onIcon="fa fa-check" offIcon="fa fa-times" style="width:6rem" />
			                    <p:spacer width="20px"/>
			                    Utilizar mi propio servidor de correos
			                    <div class="EmptyBox10"/>
			                    <p:outputPanel>
				                    <div class="p-grid">
				                    	<div class="p-col-12 p-md-7">
											<h:outputText value="SERVIDOR SMTP * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intServidopSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="100">
											</p:inputText>
											<p:message for="intServidopSmtp" />
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="PUERTO * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intPuertoSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="3" validatorMessage="SOLO NÚMEROS">
												<f:validateRegex pattern="[0-9]+"></f:validateRegex>
											</p:inputText>
											<p:message for="intPuertoSmtp" />
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="USUARIO * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intUsuarioSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="100">
											</p:inputText>
											<p:message for="intUsuarioSmtp" />
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="CONTRASEÑA * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intClaveSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="100">
											</p:inputText>
											<p:message for="intClaveSmtp" />
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="NOMBRE DEL REMITENTE * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intNomRemitenteSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="100">
											</p:inputText>
											<p:message for="intNomRemitenteSmtp"/>
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="EMAIL DEL REMITENTE * " styleClass="cpoRequerido"/>
											<div class="EmptyBox5"/>
											<p:inputText id="intEmaRemitenteSmtp" value="#{null}" required="true" requiredMessage="REQUERIDO" styleClass="Wid100" maxlength="100">
											</p:inputText>
											<p:message for="intEmaRemitenteSmtp"/>
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="USAR SSL" styleClass="cpoRequerido" style="width:120px;display:inline-block;"/>
											<p:spacer width="20px"/>
											<p:selectBooleanCheckbox value="#{false}" style="width:6rem"/>
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="USAR AUTH" styleClass="cpoRequerido"  style="width:120px;display:inline-block;"/>
											<p:spacer width="20px"/>
											<p:selectBooleanCheckbox value="#{false}" style="width:6rem"/>
										</div>
										
										<div class="p-col-12 p-md-7">
											<h:outputText value="USAR START TLS" styleClass="cpoRequerido"  style="width:120px;display:inline-block;"/>
											<p:spacer width="20px"/>
											<p:selectBooleanCheckbox value="#{false}" style="width:6rem"/>
										</div>
										
										<div class="p-col-12 p-md-7">
											<div class="EmptyBox20"/>
											<p:commandButton id="cmdGuardar"
													value="GUARDAR" icon="fa fa-floppy-o" 
													action="#" styleClass="secondary-button" update="@form"
											/>
										</div>
										
				                    </div>
			                    </p:outputPanel>
		                	</h:form>
		                </p>
		            </p:tab>
		            
		            <p:tab title="Publicidad correo electrónico de facturas" >
		                <p class="p-m-0">
		                    Agrega una publicidad de tu negocio, en las Facturas, la imágen puede ser en formato JPG, PNG, con una resolución de 940x120 px y tamaño máximo de 1MB.
		                    <div class="EmptyBox10"/>
		                    <p:linkButton value="Seleccionar" style="margin-right:20px;" href="#" icon="fa fa-image" styleClass="secondary-button"/>
		                </p>
		            </p:tab>
		            
		            <p:tab title="Validación de XML" >
		                <p class="p-m-0">
		                    Mediante esta aplicación se puede validar el XML de los comprobantes electrónicos, aplicando los archivos XSD de validación del SRI.
		                    <div class="EmptyBox10"/>
		                    <p:linkButton value="Validar XML" style="margin-right:20px;" href="./docElectronico.jsf" target="_blank" icon="fa fa-check" styleClass="secondary-button"/>
		                </p>
		            </p:tab>
		            
		            <p:tab title="Catálogos de impuestos" >
		                <p class="p-m-0">
		                    El sistema cuenta con un catálogo de impuestos tanto del I.C.E. como el I.V.A., se puede personalizar los nombres, valores, y actualización de los mismos.
		                    <div class="EmptyBox10"/>
		                    <p:linkButton value="I.C.E." style="margin-right:15px;width:80px;" href="./ice.jsf" target="_blank" icon="fa fa-star-o" styleClass="secondary-button"/>
		                    
		                    <p:linkButton value="I.V.A." style="margin-right:15px;width:80px;" href="./iva.jsf" target="_blank" icon="fa fa-star-o" styleClass="secondary-button"/>
		                </p>
		            </p:tab>
		     </p:accordionPanel>
	     
		</div>
		
	</div>
	
    

</ui:composition>
