<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
				xmlns:of="http://omnifaces.org/functions">
	
	<style type="text/css">
		
		.heightDetGr {
				height: 550px;
		}
		
		.guiaRemDetalleDT2 .ui-datatable-scrollable-body{
				/* min-height: 43vh !important;
				height: calc(100vh - 325px); */ 
		}
		
	</style>
	
	<p:dialog header="#{msg['label.guiaremision']}" widgetVar="dlgResGuiaRemision" modal="true" responsive="true" width="90%" closeOnEscape="true" styleClass="modalResponsivo">
	
	
		<h:form id="frmDetGR">
			
			<!-- OPCIONES -->
			<!-- <div class="formgroup-inline">
				<p:commandButton id="cmdCerrar"
						value="CERRAR" icon="fa fa-close" styleClass="ui-button-flat min-width-100" 
						onclick="PF('dlgResGuiaRemision').hide()" immediate="true"/>
			</div> -->
			
			<p:messages rendered="#{not facesContext.validationFailed}" showSummary="true" showDetail="true" for="frmDetGR"
				closable="true" >
				<p:autoUpdate></p:autoUpdate>
			</p:messages>
			
			<div class="w-full overflow-auto heightDetGr contenedorFormulario mt-2 pr-1">
				
				<div class="grid align-content-start" style="width:99%!important;">
					
					<!-- Transportista -->
					<div class="col-12 md:col-6 pr-0 md:pr-2">
						
						<span class="Fs14 text-black font-semibold">Transportista</span>
						<div class="EmptyBox10"/>											
						<div class="field">
					        <label class="text-black">Estado</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.guiaRemisionSelected.estado}"/>
					    </div>						
						<div class="field">
					        <label class="text-black">NUMERO DE COMPROBANTE</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.getFormatoNumDocumento(guiaRemCtrl.guiaRemisionSelected.numdocumento)}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">RUC TRANSPORTISTA</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.guiaRemisionSelected.transportista.identificacion}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">TRANSPORTISTA</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.guiaRemisionSelected.transportista.razonsocial}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">DIRECCIÓN DE SALIDA</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.guiaRemisionSelected.direccionpartida}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">FECHA</label>
					        <div class="flex">
					        	<div class="flex-grow-1 flex"><span class="mr-1 text-gray-800">Inicio</span>
									<h:outputText value="#{guiaRemCtrl.guiaRemisionSelected.fechainiciotransporte}">
										<f:convertDateTime pattern="dd/MM/yyyy"/>
									</h:outputText>
					        		
					        	</div>
					        	<div class="flex-grow-1 flex"><span class="mr-1 text-gray-800">Fin</span>
									<h:outputText value="#{guiaRemCtrl.guiaRemisionSelected.fechafintransporte}">
										<f:convertDateTime pattern="dd/MM/yyyy"/>
									</h:outputText>
					        	</div>
					        </div>
					    </div>
					    						
						<div class="EmptyBox10"/>
						<span class="Fs14 text-black font-semibold">Destinatario</span>
						<div class="EmptyBox10"/>
						
						<div class="field">
					        <label class="text-black">IDENTIFICACIÓN</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.identificaciondestinatario}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">NOMBRES</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.razonsocialdestinatario}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">DESTINO</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.dirdestinatario}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">MOTIVO</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.motivotraslado}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">CÓDIGO ESTABLECIMIENTO</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.codestabdestino==null?'N/A':guiaRemCtrl.destinatarioSelected.codestabdestino}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">
					        	<span class="mr-1">COMPROBANTE</span>
					        	<h:outputText value="#{guiaRemCtrl.destinatarioSelected.tipocomprobante!=null?guiaRemCtrl.destinatarioSelected.tipocomprobante.comprobante:'-'}"/> 
					        </label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.getFormatoNumDocumento(guiaRemCtrl.destinatarioSelected.numdocsustento)}"/>
					    </div>
						<div class="field">
					        <label class="text-black">FECHA EMISIÓN</label>
					        <h:outputText value="#{guiaRemCtrl.destinatarioSelected.fechaemisiondocsustento}" styleClass="FontBold DispBlock">
								<f:convertDateTime pattern="dd/MM/yyyy"/>
							</h:outputText>
					    </div>
					    <div class="field">
					        <label class="text-black">DOCUMENTO ADUANERO</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.docaduanerounico}"/>
					    </div>
					    <div class="field">
					        <label class="text-black">RUTA</label>
					        <p:inputText styleClass="w-full" readonly="true" value="#{guiaRemCtrl.destinatarioSelected.ruta}"/>
					    </div>
					
					</div>
					
					<!-- Destinatario -->
					<div class="col-12 md:col-6">
						<span class="Fs14 text-black font-semibold">Detalle de Ítems</span>
						<div class="EmptyBox10"/>
						<div class="h-full overflow-auto">
							
							<c:forEach items="#{guiaRemCtrl.detalledestinatarioList}" var="det" varStatus="metadata">								
								<div class="flex border-1 border-gray-400 p-2 border-round mb-2">
									<div class="flex-grow-1 flex flex-column">
										<span class="text-black Fs12 mb-1">#{det.descripcion}</span>
										<div>
											<i class="fa fa-barcode Fs10 mr-1"></i>
											<h:outputText value="#{det.codigointerno}"/>
										</div>
									</div>
									<div class="flex-grow-0 flex justify-content-center align-items-center" style="min-width: 80px;">
										<span class="Fs16 text-blue-600 font-bold">
											<h:outputText value="#{det.cantidad}"  styleClass="DispBlock FontBold">
												<f:convertNumber pattern="#,##0"/>
											</h:outputText>
										</span>
									</div>
								</div>
							</c:forEach>
							
						</div>
					
					</div>
				
				</div>				
			
			</div>
			
		
		</h:form>
	
	
	
	</p:dialog>
	
	
</ui:composition>
