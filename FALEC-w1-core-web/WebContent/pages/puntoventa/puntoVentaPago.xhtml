<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions"
				xmlns:pe="http://primefaces.org/ui/extensions"
                template="/WEB-INF/template/templateV2.xhtml">

    <ui:define name="title">#{msg['title.puntoventa']}</ui:define>
    
    <ui:define name="head">
        <style type="text/css">
			
			.contenedor {
			    width: 100%;
			}
			
			
        </style>
    </ui:define>

    <ui:define name="content">
    
    	<!-- CONSTANTES -->
    	<o:importConstants type="com.vcw.falecpv.core.constante.EstadoRegistroEnum" var="EstadoRegistroEnum" />
    	<o:importConstants type="com.vcw.falecpv.core.constante.TipoPagoFormularioEnum" var="TipoPagoFormularioEnum" />
    
    	<!-- OPCIONES -->
	    <h:form id="formMain">
	    	
	    	<div class="tool-bar mb-2 contenedor">
	    	
   				<p:commandButton 
   					value="AtrÃ¡s" 
   					icon="fa fa-backward fs-12" 
   					action="./puntoVenta.jsf?faces-redirect=true" 
   					immediate="true" 
   					styleClass="ui-button-secondary ui-button-outlined fs-12 max-width-90"/>
   					
   				<p:commandButton 
   					value="Guardar" 
   					icon="fa-regular fa-floppy-disk fs-12" 
   					action="#{factMainPagoCtrl.generarFactura()}" 
   					update="@form" 
   					styleClass="ui-button-success fs-12 max-width-90">
   					<f:setPropertyActionListener value="#{rideCtrl}" target="#{factMainPagoCtrl.rideCtrl}"/>
   				</p:commandButton>
   					
 				<p:commandButton 
   					value="Imprimir" 
   					icon="fa-solid fa-print fs-12" 
   					action="#{factMainPagoCtrl.imprimir()}" 
   					update=":formMain:msgFormMain" 
   					styleClass="fs-12 max-width-90"
   					disabled="#{factMainPagoCtrl.cabecerSelected.idcabecera == null}">
   					<f:setPropertyActionListener value="#{rideCtrl}" target="#{factMainPagoCtrl.rideCtrl}"/>
   				</p:commandButton>
	    	
	    	</div>
	    	
	    	<!-- Mensajes -->
			<p:messages id="msgFormMain" rendered="#{not facesContext.validationFailed}" showSummary="true" showDetail="true" for="formMain"
				closable="true" >
				<p:autoUpdate></p:autoUpdate>
			</p:messages>
	    	
	    	<div class="grid contenedor" style="width: 100%;">
	    		
	    		<div class="col-12 lg:col-5">
	    			
	    			<!-- Datos de la cabecera -->
	    			<ui:include src="incl_pvPago_cabecera.xhtml"/>
	    			
	    		</div>
	    		
	    		<div class="col-12 lg:col-7">
	    			
	    			<!-- Datos del detalle de pago -->
	    			<ui:include src="incl_pvPago_detalle.xhtml"/>
	    			
	    		</div>
	    	
	    	</div>
	    	
	    	
	    </h:form>
	    
	    <!-- Form Cliente -->
	    <ui:include src="../herramientas/incl_cliente_form.xhtml" />
	    
	    <!-- RIDE -->
		<ui:include src="/pages/common/incl_ride.xhtml" />
        
    </ui:define>

</ui:composition>
