<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
				xmlns:of="http://omnifaces.org/functions"
				xmlns:pe="http://primefaces.org/ui/extensions">
	
	<style type="text/css">
		.ui-fileupload-content {
		    min-height: 100px;
		    background-color: #F0F3F4 !important;
		}
 	</style>
	
	
	<p:dialog header="Archivo SRI" 
		widgetVar="dlgCRImportFile" 
		modal="true" 
		responsive="true" 
		width="99%"
		style="max-width:45rem" 
		closeOnEscape="true" 
		styleClass="modalResponsivo">
		
		<h:form id="formCRFile">
			
			
			<div class="tool-bar">
				<i class="fa-solid fa-ellipsis-vertical"></i>
				<p:commandButton id="cmdAceptar"
					value="Aceptar" 
					icon="fa fa-check fs-12" 
					styleClass="min-width-80 fs-12 ui" 
					update="@form"
					action="#{compRecibidosCtrl.aceptarFile()}"  
					/>
					
				<p:linkButton 
					value="Ayuda" 
					styleClass="min-width-80 ui-button-outlined ui-button-secondary fs-12" 
					icon="pi pi-tags fs-12" 
					target="_black" 
					href="#{request.contextPath}/manuales/importComprobante.html" 
					title="Manual de Usuario">
		    	</p:linkButton>
		    	
				<p:commandButton id="cmdCerrar"
					value="Cerrar" 
					icon="fa fa-sign-out fs-12" 
					styleClass="min-width-80 ui-button-outlined ui-button-secondary fs-12" 
					onclick="PF('dlgCRImportFile').hide()" immediate="true"  
					/>
					
			</div>
			
			<span class="m-0 my-1 text-gray-900 fs-18 text-center block">
				<i class="fa fa-warning fs-18 text-yellow-500"></i> Seleccionar o arrastrar el archivo descargado de la p√°gina web del SRI *.txt
			</span>
			<p:outputPanel rendered="#{compRecibidosCtrl.nombreFile!=null}"
				styleClass="mb-1 flex gap-2 fs-14">
					<h:outputText value="Archivo Seleccionado" styleClass="text-gray-900"/>
					<h:outputText value=":" styleClass="text-gray-900"/>
					<h:outputText value="#{compRecibidosCtrl.nombreFile}" styleClass="text-gray-900 fw-5"/>
			</p:outputPanel>
			
			<p:fileUpload id="recImportupload"
					listener="#{compRecibidosCtrl.handleUpload}"
					allowTypes="/(\.|\/)(txt)$/"
					required="true"
					requiredMessage="Requerido" 
					label="Seleccionar Archivo *.txt" 
					sizeLimit="25242880"
					invalidFileMessage="Solo formatos [.txt]" 
					invalidSizeMessage="#{msg['file.size']} 2MB" 
					mode="advanced" 
					dragDropSupport="true" 
					auto="true"
					update="@form"
					previewWidth="0" 
					chooseButtonStyleClass="ui-button-success fs-14"
					>
			</p:fileUpload>
			
		</h:form>
	
	</p:dialog>
	

</ui:composition>
